# Сайт о ресторанах
## Тут можно бронировать, добавлять в избранное и не только

Задачей было сделать простой на вид, но достаточно функциональный сайт. 

Тут есть: 
- вход в личный кабинет для обычного юзера
- вход в личный кабинет для менеджера
- разграничение ролей
- система добавления в избранное
- система для оставления заявки на бронирование выбранного ресторана
- поиск по названию, типу кухни и типу заведения
- возможность редактировать некоторые данные о ресторане, если ты менеджер

Новые рестораны добавляются через админку.

---

## Разграничение ролей

Есть три типа пользователей - обычный юзер (зарегистрировавшийся и еще не авторизированный), менеджер и администратор.

У юзера есть ограничения по доступу к контенту - только зарегистрировавшись можно получить доступ к личному кабинету, кнопке "добавить в избранное" и возможности оставить заявку на бронирование. 

Менедежер может редактировать некоторую информацию о ресторане (например, номер телефона), перейдя на отдельную страницу. Также он может обрабатывать заявки на бронирование, но пока это реализовано достаточно криво.

Администратор - это суперпользователь. Он имеет доступ к админке и может пользоваться всеми ее функциями.

---

Поскольку проект достаточно объемный, стоит рассказать подробней, что хранится в каждом модуле.

## <code>user_interface</code>

"Основной" модуль. В нем лежат форма для поиска по названию, регистрация данных для админки и основные модели - например, место и тип кухни. Тут же происходит 
передача данных о ресторане на главную страницу сайта. 

## <code>registration</code>

Этот модуль отвечает за регистрацию. В нем лежит абстрактная модель, представляющая стандартного юзера, формы для регистрации, входа и выхода.

## <code>registration_manager</code>

Этот модуль основан на <code>registration</code>, но имеет уникальные поля в форме, которых нет при регистрации у обычного юзера. Также в нем хранится абстрактная модель, представляющая менеджера.

## <code>favorites</code>

Этот модуль отвечает за добавление ресторанов в избранное. После нажатия кнопки "добавить" они появляются на отдельной странице со списком всех добавленных мест. 

## <code>edit_restaurant_page</code>

Модуль, отвечающий за редактирование ресторанов менеджером. По сути - отдельная страница со специальными функциями. Данные берутся из админки, редактируются и возвращаются обратно, в следствие чего мы получаем изменение ресторанов не только на странице, но и в административной панеле.

## <code>booking_request</code>

Содержит форму бронирования. Хранящаяся там модель имеет такие поля как, например, количество человек, время и дата бронирования, специальные пожелания. 

---

## Какие ссылки можно использовать

- admin/ (админка)
- edit/<int:id_place>/ (редактирование ресторанов, доступна только менеджерам, выглядит как "edit/1/")
- booking/<int:id_place>/ (бронирование ресторана под номером id_place, выглядит как "booking/1/", доступна только зарегистрированным пользователям)
- favorites/ (список избранного, доступен только зарегистрированным пользователям)
- register/ (регистрация)
- register/login/ (вход)
- register/manager/ (регистрациыя для менеджеров)
- register/logout/ (выход)
- register/profile (профиль)
- search_result/ (страница с результатами поиска)
- <int:id_place>/ (страница ресторана, параметр - id ресторана)

---

## Как запустить 

1. <code>git clone https://github.com/jiezzzzzzz/restaurant-booking</code>
2. создать секретный ключ Джанго в интерактивном режиме питона: 
```
python
import django
from django.core.management.utils import get_random_secret_key
print(get_random_secret_key())
```
3. создать <code>.env</code> файл и положить в него секретный ключ:
```
SECRET_KEY = 
```
4. <code>pip install -r requirements.txt</code>
5. <code>python manage.py migrate</code>
6. <code>python manage.py createsuperuser</code>
7. добавить данные в админку, без них верстка сайта немного плывет 












